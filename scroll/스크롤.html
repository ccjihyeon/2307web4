<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            height: 5000px;
            background-image: linear-gradient(#555, #AAA);
        }

        .content {
            color: white;
            font-size: 32px;
            font-weight: bold;
            margin-top: 300px;
        }

        .scroll-contents {
            opacity: 0;
            transform: translateX(-200px);
            transition: 1200ms;
        }

        .scroll-contents.active {
            opacity: 1;
            transform: none;
        }

        .this-is-girl {
            margin-bottom: 500px;
        }
        .scroll-opacity{
            opacity: 0;
        }
    </style>
</head>

<body>

    <div class="text">
        Lorem ipsum dolor, sit amet consectetur adipisicing elit. Iste, cumque quidem? Sapiente rem eum dicta incidunt
        eligendi placeat odio minima debitis molestias sit. Nulla aut tempore quae sit sed officiis?
        Lorem ipsum dolor sit amet consectetur adipisicing elit. In qui doloremque suscipit excepturi vero molestiae
        possimus illo expedita omnis vel assumenda eveniet quidem molestias, velit dolores dolorum at accusamus
        officiis.
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Tempora et, alias dolore molestiae nesciunt impedit,
        voluptates pariatur id a ea excepturi dignissimos magnam assumenda soluta omnis perferendis praesentium fuga!
        Cupiditate.

    </div>

    <div class="content scroll-contents">
        나타난다!
    </div>
    <div class="content scroll-contents">
        나타난다!
    </div>
    <div class="content scroll-contents">
        나타난다!
    </div>
    <div class="content scroll-contents">
        나타난다!
    </div>
    <div class="content scroll-contents">
        나타난다!
    </div>
    <div class="content scroll-contents">
        나타난다!
    </div>
    <div class="content scroll-contents">
        나타난다!
    </div>
    <div class="content scroll-contents">
        나타난다!
    </div>
    <div class="content scroll-contents">
        나타난다!
    </div>
    <div class="content scroll-contents">
        나타난다!
    </div>
    <div class="content scroll-contents">
        나타난다!
    </div>
    <div class="content scroll-contents">
        나타난다!
    </div>
    <div class="content scroll-contents">
        나타난다!
    </div>
    <div class="content scroll-contents">
        나타난다!
    </div>
    <div class="content scroll-contents">
        나타난다!
    </div>
    <div class="content scroll-contents">
        나타난다!
    </div>
    <img src="/scroll/dom-hill-nimElTcTNyY-unsplash.jpg" class="this-is-girl scroll-opacity" alt="">
    <img src="/scroll/dom-hill-nimElTcTNyY-unsplash.jpg" class="this-is-girl scroll-opacity" alt="">
    <img src="/scroll/dom-hill-nimElTcTNyY-unsplash.jpg" class="this-is-girl scroll-opacity" alt="">
    <img src="/scroll/dom-hill-nimElTcTNyY-unsplash.jpg" class="this-is-girl scroll-opacity" alt="">
    <script>
        const scrollContent = document.getElementsByClassName('scroll-contents');
        const scrollOpacity = document.getElementsByClassName('scroll-opacity');

        window.addEventListener('scroll', (e) => {

            for(let i = 0; i < scrollOpacity.length; i++){

                const 좌표 = scrollOpacity[i].getBoundingClientRect().top - window.innerHeight;
                const 백분율 = -(좌표 + window.innerHeight / 3) / (window.innerHeight / 3 * 2); 
                //윈도우 높이의 3분의1 지점만큼 보이기 시작해서 3분의 2지점만큼오면 확실히 보이게 해주겠다.
                scrollOpacity[i].style.opacity = `${백분율}`;
            }
            for (let i = 0; i < scrollContent.length; i++) {
                console.log(scrollContent[i].getBoundingClientRect().top - window.innerHeight < 0)
                //객체.getBoundingClientRect().top : window의 윗부분과 객체 윗부분 사이의 거리
                //아직 나타나지 않았을때 양수, 지나쳤을때 음수 단위는 px
                if (scrollContent[i].getBoundingClientRect().top - window.innerHeight < 0) {
                    scrollContent[i].classList.add('active');
                } else {
                    scrollContent[i].classList.remove('active');
                }
            }
        })
        //.getBoundingClientRect().top - window.innerHeight < 0 스크롤 이벤트에 자주 사용함.

    </script>
</body>

</html>